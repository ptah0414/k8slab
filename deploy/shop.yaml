apiVersion: apps/v1
kind: Deployment
metadata: 
 namespace: rapa
 name: shop
spec:
 replicas: 3
 selector:
   matchLabels:
     app: shop # replicas 
 template: # pod 정의 
   metadata: 
     name: shop # pod 이름 
     labels:
       app: shop # 3개 생성 
   spec:
     containers: 
     - name: shop
       image: nginx
       ports: 
       - containerPort: 80
       volumeMounts:
       - name: defaultvol
         mountPath: /usr/share/nginx/html
     volumes:
     - name: defaultvol
       configMap:
         name: defaultcm
---
apiVersion: v1
kind: Service
metadata: 
  namespace: rapa 
  name: shop
spec:
 ports:
 - name: shop-port
   port: 80 # service의 포트
   targetPort: 80 # pod의 포트
   nodePort: 30002
 selector:
   app: shop # pod의 label
 type: NodePort